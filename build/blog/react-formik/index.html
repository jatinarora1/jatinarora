<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Creating Forms In React With Formik And Yup | Jatin Arora</title><meta data-react-helmet="true" property="og:title" content="Creating Forms In React With Formik And Yup | Jatin Arora"><meta data-react-helmet="true" name="description" content="Forms are a very important part of any application. Forms are used everywhere from login to search."><meta data-react-helmet="true" property="og:description" content="Forms are a very important part of any application. Forms are used everywhere from login to search."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://cdn-images-1.medium.com/max/8992/0*FtmrJ9x7DT7XVaKD"><meta data-react-helmet="true" property="twitter:image" content="https://cdn-images-1.medium.com/max/8992/0*FtmrJ9x7DT7XVaKD"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Creating Forms In React With Formik And Yup"><link data-react-helmet="true" rel="shortcut icon" href="/img/jatin.jpg"><link rel="stylesheet" href="/styles.d48d5b3b.css">
<link rel="preload" href="/styles.152560a6.js" as="script">
<link rel="preload" href="/runtime~main.b8677e71.js" as="script">
<link rel="preload" href="/main.48060fb2.js" as="script">
<link rel="preload" href="/1.57e2cf85.js" as="script">
<link rel="preload" href="/2.818658f0.js" as="script">
<link rel="preload" href="/3.d3fc3d6d.js" as="script">
<link rel="preload" href="/ccc49370.2475dd98.js" as="script">
<link rel="preload" href="/78fc71a1.8a2d51a1.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">Jatin Arora</strong></a><a class="navbar__item navbar__link" href="/resume">Resume</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/projects">Conributions</a><a href="https://github.com/jatinarora1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">Jatin Arora</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/resume">Resume</a></li><li class="menu__list-item"><a class="menu__link" href="/projects">Conributions</a></li><li class="menu__list-item"><a href="https://github.com/jatinarora1" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Creating Forms In React With Formik And Yup</h1><div class="margin-vert--md"><time datetime="2019-01-25T00:00:00.000Z" class="blogPostDate_3bQP">January 25, 2019  Â· 6 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/anshulrgoyal" target="_blank" rel="noreferrer noopener"><img src="/img/anshul.jpg" alt="Anshul Goyal"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noreferrer noopener">Anshul Goyal</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Forms are a very important part of any application. Forms are used everywhere from login to search.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="list-of-content"></a>List Of Content<a aria-hidden="true" tabindex="-1" class="hash-link" href="#list-of-content" title="Direct link to heading">#</a></h2><ul><li><p>Introduction to Formik</p></li><li><p>Introduction to Yup</p></li><li><p>Creating a Simple Form Markup</p></li><li><p>Using Formik With Simple Form</p></li><li><p>Adding Reset Button</p></li><li><p>Adding Validation</p></li><li><p>Handling Submit</p></li><li><p>Conclusion</p></li></ul><p><strong>Useful tip:</strong> Use <a href="https://bit.dev?utm_medium=content&amp;utm_source=bitsandpieces&amp;utm_content=1&amp;utm_campaign=rsrch_msg_jul" target="_blank" rel="noopener noreferrer">**Bit</a><strong> to encapsulate components with all their dependencies and setup. Build truly modular applications with better code reuse, simpler maintenance and less overhead.
[</strong>Share reusable code components as a team Â· Bit**
<em>Easily share reusable components between projects and applications to build faster as a team. Collaborate to developâ€¦</em>bit.dev](<a href="https://bit.dev?utm_medium=content&amp;utm_source=bitsandpieces&amp;utm_content=1&amp;utm_campaign=rsrch_msg_jul" target="_blank" rel="noopener noreferrer">https://bit.dev?utm_medium=content&amp;utm_source=bitsandpieces&amp;utm_content=1&amp;utm_campaign=rsrch_msg_jul</a>)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p><strong>ReactJS</strong> is a library. It does not include a pre-baked solution to handle the formâ€™s state and actions. Forms in the ReactJS can be a pain with all those repetition and business logic at the same time. <strong>Formik</strong> handles form state and <strong>Yup</strong> handles validation so we can focus our business logic.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-is-formik"></a>What is Formik?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-formik" title="Direct link to heading">#</a></h3><p>Formik is a library which manages the state of the form. The state of the form means the error and value for every field and many more. Formik provides a mechanism to validate the field by passing a function.</p><p><img src="https://cdn-images-1.medium.com/max/2400/1*Jy7lJxq1JegkQpzYTecW0A.png" alt="Formik"><em>Formik</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-is-yup"></a>What is Yup?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-yup" title="Direct link to heading">#</a></h3><p>Yup is a validation library. It can be used to validate object , array , string and almost every JavaScript data structure. We would use it to validate our input.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="let-us-get-to-code"></a>Let Us Get To Code<a aria-hidden="true" tabindex="-1" class="hash-link" href="#let-us-get-to-code" title="Direct link to heading">#</a></h2><p>We would convert our simple form which does not do anything to an interactive well-built form with formik.</p><p><img src="https://cdn-images-1.medium.com/max/2000/1*qflnAnPU2UZgcSWOHJKo6A.png" alt="Simple form"><em>Simple form</em></p><p>To use Formik we just need to follow these steps</p><ul><li><p>Wrap the form with Formik component from the formik package.</p></li><li><p>Replace input with fields as it provides more control over the state.</p></li><li><p>Added onChange and value event handler which is also provided by the Formikcomponent as a prop.</p></li></ul><p>The state of form is handled by Formik so it would make sense the values of field and change events should be handled by the Formik.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="using-formik"></a>Using Formik<a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-formik" title="Direct link to heading">#</a></h3><p>We need to pass certain props to fromik for it to work.</p><ul><li><p>The component to be rendered or the function to be invoked while rendering form or children it needs to display. Formik only manages state and validation. It does not manages rendering of the form elements.</p></li><li><p>onSubmit handler for the form.</p></li><li><p>initalValue of the state of the form.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="form-with-formik"></a>Form With Formik<a aria-hidden="true" tabindex="-1" class="hash-link" href="#form-with-formik" title="Direct link to heading">#</a></h3><p>Now we would see what our form look like now.</p><p><img src="https://cdn-images-1.medium.com/max/2160/1*ABPDZLXqgi1Qs8gaknUomw.png" alt="Form State handled by Formik"><em>Form State handled by Formik</em></p><p>Let look at the props passed to the Formik. The initalValues specify the initial state of the form. onSubmit specify the function invoked with values of form and action that can be performed on the state of the form. The change is also handled by the formik by providing props.handleChange method and the updated value by providing props.values .</p><p>The Field is just a wrapper around the input tags and can be used to render any input component from select , checkbox to radio button. We can just do something like it. You can checkout<a href="https://jaredpalmer.com/formik/docs/api/field" target="_blank" rel="noopener noreferrer"> Formik Docs</a> for more information.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;Field component=&quot;select&quot; name=&quot;color&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &lt;option value=&quot;red&quot;&gt;Red&lt;/option&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &lt;option value=&quot;green&quot;&gt;Green&lt;/option&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &lt;option value=&quot;blue&quot;&gt;Blue&lt;/option&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/Field&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="different-methods-to-render-forms"></a>Different Methods To Render Forms<a aria-hidden="true" tabindex="-1" class="hash-link" href="#different-methods-to-render-forms" title="Direct link to heading">#</a></h3><p>Formik support there different methods to render a form. render prop can be used, a function is provided as a prop which returns an react node. Form can be passed as a children, children should be a function which returns a react node. component prop is also available, the component which is to be rendered can be provided.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;Formik</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...props</span></div><div class="token-line" style="color:#393A34"><span class="token plain">component={Form}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">or</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;Formik</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...props</span></div><div class="token-line" style="color:#393A34"><span class="token plain">render={()=&gt;&lt;Form /&gt;}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">or</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;Formik ...props &gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> ()=&gt;&lt;Form /&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/Formik&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="adding-reset-to-form"></a>Adding Reset To Form<a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-reset-to-form" title="Direct link to heading">#</a></h3><p>We have to just add a button which calls the handleReset method supplied by Formik. Now the magic of Formik will blow your mind.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">&lt;button</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  disabled={!props.dirty}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  onClick={props.handleReset}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  type=&quot;button&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  className={s.button}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  Reset</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&lt;/button&gt;</span></div></div></div></div></div><p>We have a working reset button.</p><p><img src="https://cdn-images-1.medium.com/max/2000/1*qxlfT9R_BFRgnufc2FxmYw.gif" alt="Reset Working"><em>Reset Working</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="adding-validation"></a>Adding Validation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-validation" title="Direct link to heading">#</a></h3><p>We would be using Yup to valid our inputs first, we should construct a schema for validation of the object.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">import * as yup from &#x27;yup&#x27;</span></div></div></div></div></div><p>Now we can use yup.object ,yup.string etc. Let us create one for our form.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">**const userSchema = yup.object().shape({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  name: yup.string().required(&quot;Name is Required.&quot;),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  email: yup</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .string()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .email(&quot;Please Enter an valid Email&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .required(&quot;Email is Required.&quot;),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  password: yup</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .string()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .required(&quot;Password is Required.&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .max(13,&quot;Too long&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .min(8,&quot;Too short&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">})**</span></div></div></div></div></div><p>So expect our value to be an object and shape specify the keys which should be there and what should be the type of the key and what should be their length etc. <strong>Yup</strong> can be used to create an awesome schema to validate anything. Here is the documentation for <a href="https://github.com/jquense/yup/blob/master/README.md" target="_blank" rel="noopener noreferrer">Yup</a>.</p><p>We show an error if our field has been touched and has an error using props provided by formik.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handling-form-submit"></a>Handling Form Submit<a aria-hidden="true" tabindex="-1" class="hash-link" href="#handling-form-submit" title="Direct link to heading">#</a></h3><p>Till now we were just logging the data. We can use this data in any way. We can make an API request or save data for the next step. We can use the form submit state to show loading or disable the submit button. Now let see how it is used.</p><p>We change the state to submitting and show loader and we can use setTimeout to mimic the API behavior. The submitting State is provided as a prop same as the errors and other states like dirty or others.</p><p><img src="https://cdn-images-1.medium.com/max/2560/1*WOphSQn9px06prgws1gTwA.gif" alt="Form in action"><em>Form in action</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="let-us-go-through-the-flow"></a>Let Us Go through The Flow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#let-us-go-through-the-flow" title="Direct link to heading">#</a></h3><p>We use the submit button to submit the form and reset to reset it. We use the setUser to change the component state and use it in our details. We use Yup to validate our inputs.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conclusion"></a>Conclusion<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>We saw Formik in action but it is just a tip of the iceberg and you can dive in Formik and configure it to control every aspect of your form and use it to configure validation pattern, flow etc.Formik is extremely configurable and very simple to use and setup. You can get a fully working form in very few line of code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="if-you-are-wondering-how-i-have-set-my-react-project-please-do-check-my-previous-blog"></a>If you are wondering how I have set my react project please do check my previous blog<a aria-hidden="true" tabindex="-1" class="hash-link" href="#if-you-are-wondering-how-i-have-set-my-react-project-please-do-check-my-previous-blog" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bonus"></a>Bonus<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bonus" title="Direct link to heading">#</a></h2><p>All the code of the Form for you:).
<a href="https://github.com/anshulgoyal15/Formik-Blog" target="_blank" rel="noopener noreferrer"><strong>anshulgoyal15/Formik-Blog</strong></a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/formik">formik</a><a class="margin-horiz--sm" href="/blog/tags/rect">rect</a><a class="margin-horiz--sm" href="/blog/tags/yup">yup</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/nodejs-rust-match"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Rust and Node.js: A match made in heaven</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/scrapping-nodejs"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Scraping with NodeJS and Cheerio Â»</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/resume">Resume</a></li><li class="footer__item"><a class="footer__link-item" href="/projects">Contributions</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://dev.to/jatinarora1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev.to</a></li><li class="footer__item"><a href="https://medium.com/@arora8331" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/jatin-a-5a3286137/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li><li class="footer__item"><a href="https://twitter.com/JATINAR27664823" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Jatin Arora.</div></div></div></footer></div>
<script src="/styles.152560a6.js"></script>
<script src="/runtime~main.b8677e71.js"></script>
<script src="/main.48060fb2.js"></script>
<script src="/1.57e2cf85.js"></script>
<script src="/2.818658f0.js"></script>
<script src="/3.d3fc3d6d.js"></script>
<script src="/ccc49370.2475dd98.js"></script>
<script src="/78fc71a1.8a2d51a1.js"></script>
</body>
</html>