{"remainingRequest":"/Users/inmatin/Desktop/anshulrgoyal/node_modules/babel-loader/lib/index.js??ref--12-1!/Users/inmatin/Desktop/anshulrgoyal/node_modules/@docusaurus/mdx-loader/src/index.js??ref--12-2!/Users/inmatin/Desktop/anshulrgoyal/node_modules/@docusaurus/plugin-content-blog/lib/markdownLoader.js??ref--12-3!/Users/inmatin/Desktop/anshulrgoyal/blog/2019-01-14-jwt-auth.md","dependencies":[{"path":"/Users/inmatin/Desktop/anshulrgoyal/blog/2019-01-14-jwt-auth.md","mtime":1597636846609},{"path":"/Users/inmatin/Desktop/anshulrgoyal/.docusaurus/docusaurus-plugin-content-blog/site-blog-2019-01-14-jwt-auth-md-935.json","mtime":1597646785274},{"path":"/Users/inmatin/Desktop/anshulrgoyal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inmatin/Desktop/anshulrgoyal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/inmatin/Desktop/anshulrgoyal/node_modules/@docusaurus/mdx-loader/src/index.js","mtime":499162500000},{"path":"/Users/inmatin/Desktop/anshulrgoyal/node_modules/@docusaurus/plugin-content-blog/lib/markdownLoader.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL1VzZXJzL2lubWF0aW4vRGVza3RvcC9hbnNodWxyZ295YWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMiO2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7ZXhwb3J0IGNvbnN0IGZyb250TWF0dGVyPXt0aXRsZTonQSBQcmFjdGljYWwgR3VpZGUgZm9yIEpXVCBBdXRoZW50aWNhdGlvbiBVc2luZyBOb2RlLmpzIGFuZCBFeHByZXNzJyxpZDonand0LWF1dGgnLGF1dGhvcjonQW5zaHVsIEdveWFsJyxhdXRob3JfdXJsOidodHRwczovL2dpdGh1Yi5jb20vYW5zaHVscmdveWFsJyxhdXRob3JfaW1hZ2VfdXJsOicvaW1nL2Fuc2h1bC5qcGcnLHRhZ3M6Wydqd3QnLCdhdXRoJywnbm9kZWpzJywnZXhwcmVzcyddLGltYWdlOidodHRwczovL2Nkbi1pbWFnZXMtMS5tZWRpdW0uY29tL21heC8xMDgzNi8xKldyRHJJYTB2ODBlTDQzUEstV3R1LXcuanBlZyd9O2V4cG9ydCBjb25zdCBtZXRhZGF0YT17InBlcm1hbGluayI6Ii9ibG9nL2p3dC1hdXRoIiwic291cmNlIjoiQHNpdGUvYmxvZy8yMDE5LTAxLTE0LWp3dC1hdXRoLm1kIiwiZGVzY3JpcHRpb24iOiJJbnRyb2R1Y3Rpb24iLCJkYXRlIjoiMjAxOS0wMS0xNFQwMDowMDowMC4wMDBaIiwidGFncyI6W3sibGFiZWwiOiJqd3QiLCJwZXJtYWxpbmsiOiIvYmxvZy90YWdzL2p3dCJ9LHsibGFiZWwiOiJhdXRoIiwicGVybWFsaW5rIjoiL2Jsb2cvdGFncy9hdXRoIn0seyJsYWJlbCI6Im5vZGVqcyIsInBlcm1hbGluayI6Ii9ibG9nL3RhZ3Mvbm9kZWpzIn0seyJsYWJlbCI6ImV4cHJlc3MiLCJwZXJtYWxpbmsiOiIvYmxvZy90YWdzL2V4cHJlc3MifV0sInRpdGxlIjoiQSBQcmFjdGljYWwgR3VpZGUgZm9yIEpXVCBBdXRoZW50aWNhdGlvbiBVc2luZyBOb2RlLmpzIGFuZCBFeHByZXNzIiwicmVhZGluZ1RpbWUiOjYuNjYsInRydW5jYXRlZCI6dHJ1ZSwicHJldkl0ZW0iOnsidGl0bGUiOiJTZXR0aW5nIEEgUmVhY3QgUHJvamVjdCBGcm9tIFNjcmF0Y2ggVXNpbmcgQmFiZWwgQW5kIFdlYnBhY2siLCJwZXJtYWxpbmsiOiIvYmxvZy9yZWFjdC1zZXR1cCJ9fTsvKiBAanN4IG1keCAqL2V4cG9ydCBjb25zdCByaWdodFRvYz1bXTtjb25zdCBsYXlvdXRQcm9wcz17cmlnaHRUb2N9O2NvbnN0IE1EWExheW91dD0id3JhcHBlciI7ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTURYQ29udGVudCh7Y29tcG9uZW50cywuLi5wcm9wc30pe3JldHVybiBtZHgoTURYTGF5b3V0LF9leHRlbmRzKHt9LGxheW91dFByb3BzLHByb3BzLHtjb21wb25lbnRzOmNvbXBvbmVudHMsbWR4VHlwZToiTURYTGF5b3V0In0pLG1keCgiaDEiLHsiaWQiOiJpbnRyb2R1Y3Rpb24ifSxgSW50cm9kdWN0aW9uYCksbWR4KCJwIixudWxsLGBUcmFkaXRpb25hbCBhdXRoZW50aWNhdGlvbiBzdHJhdGVneSBtYWtlcyB1c2Ugb2Ygc2Vzc2lvbnMgYW5kIGNvb2tpZXMsIGJ1dCBzY2FsaW5nIHRoZXNlIHNvbHV0aW9ucyBpcyB2ZXJ5IGRpZmZpY3VsdCDigJQgYXMgc29tZSBraW5kIG9mIHN0YXRlIGlzIG1haW50YWluZWQgYnkgdGhlIHNlcnZlci4gSldULCBvbiB0aGUgb3RoZXIgaGFuZCwgcHJvdmlkZXMgYSBzdGF0ZWxlc3Mgc29sdXRpb24gZm9yIGF1dGhlbnRpY2F0aW9uLCBhbmQgc3RhdGVsZXNzIGFwcGxpY2F0aW9ucyBhcmUgcHJldHR5IGVhc3kgdG8gc2NhbGUuYCksbWR4KCJoNCIseyJpZCI6ImFkdmFudGFnZXMtb2Ytand0In0sYEFkdmFudGFnZXMgb2YgSldUYCksbWR4KCJ1bCIsbnVsbCxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoInAiLHtwYXJlbnROYW1lOiJsaSJ9LGBQcm92aWRlcyBhIHN0YXRlbGVzcyBhdXRoZW50aWNhdGlvbiBzb2x1dGlvbmApKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoInAiLHtwYXJlbnROYW1lOiJsaSJ9LGBWZXJ5IHBvcHVsYXIgYW5kIHVzZWQgYnkgbWFueSBPQXV0aCBzZXJ2aWNlIHByb3ZpZGVycywgbGlrZSBHb29nbGUgYW5kIEZhY2Vib29rYCkpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LG1keCgicCIse3BhcmVudE5hbWU6ImxpIn0sYEl04oCZcyB2ZXJ5IGVhc3kgdG8gdmVyaWZ5IGEgSldUIHRva2VuYCkpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LG1keCgicCIse3BhcmVudE5hbWU6ImxpIn0sYE1vcmUgdHJ1c3R3b3J0aHkgdGhhbiBjb29raWVzIGFuZCBzZXNzaW9uc2ApKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoInAiLHtwYXJlbnROYW1lOiJsaSJ9LGBBdXRoZW50aWNhdGlvbiBjYW4gYmUgb3V0c291cmNlZCwgb3IgYW4gYXV0aGVudGljYXRpb24gc2VydmljZSBjYW4gYmUgdXNlZGApKSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoInAiLHtwYXJlbnROYW1lOiJsaSJ9LGBIYXZlIG1hbnkgYXBwbGljYXRpb25zIG90aGVyIHRoYW4gYXV0aGVudGljYXRpb24g4oCUIGZvciBpbnN0YW5jZSwgaXQgY2FuIGJlIHVzZWQgZm9yIGNsYWltc2ApKSksbWR4KCJoNCIseyJpZCI6ImNvbnRlbnQifSxgQ29udGVudGApLG1keCgidWwiLG51bGwsbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJwIix7cGFyZW50TmFtZToibGkifSxgSldUIHN0cnVjdHVyZSBhbmQgb3ZlcnZpZXdgKSksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJwIix7cGFyZW50TmFtZToibGkifSxgVGhlIEpXVCBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc21gKSksbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJwIix7cGFyZW50TmFtZToibGkifSxgVXNpbmcgSldUIGF1dGhlbnRpY2F0aW9uIHdpdGggTm9kZS5qc2ApKSksbWR4KCJociIsbnVsbCksbWR4KCJoMSIseyJpZCI6IndoYXRzLWp3dCJ9LGBXaGF04oCZcyBKV1Q/YCksbWR4KCJwIixudWxsLGBBIEpTT04gV2ViIFRva2VuIChKV1QpIGlzIGEgYCxtZHgoImEiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwIn0seyJocmVmIjoiaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL2pzb24vIn0pLGBKU09OIG9iamVjdGApLGAgdGhhdOKAmXMgZGVmaW5lZCBpbiBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiJodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzUxOSJ9KSxgUkZDIDc1MTlgKSxgIGFzIGEgc2FmZSB3YXkgdG8gcmVwcmVzZW50IGEgc2V0IG9mIGluZm9ybWF0aW9uIGJldHdlZW4gdHdvIHBhcnRpZXMuIFRoZSB0b2tlbiBpcyBjb21wb3NlZCBvZiBhIGhlYWRlciwgYSBwYXlsb2FkLCBhbmQgYSBzaWduYXR1cmUuYCksbWR4KCJwIixudWxsLGBKV1QgaXMgdXNlZCBmb3IgYXV0aGVudGljYXRpb24sIGFuZCB0aGV5IGNhbiBhbHNvIGJlIHVzZWQgZm9yIHNoYXJpbmcgaW5mb3JtYXRpb24uIE1vc3QgSldUIGFyZSBzaWduZWQgdXNpbmcgYSBwdWJsaWMga2V5IGFuZCBhIHByaXZhdGUga2V5OyB0aGVyZWZvcmUsIGl04oCZcyB2ZXJ5IGRpZmZpY3VsdCB0byB0YW1wZXIgd2l0aCB0aGVzZSB0b2tlbnMuIEpXVCBoYXMgdGhyZWUgcGFydHM6IGhlYWQsIGJvZHkgYW5kIHNpZ25hdHVyZSwgZWFjaCBzZXBhcmF0ZWQgYnkgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYOKAnC7igJ1gKSxgLmApLG1keCgiaDQiLHsiaWQiOiJoZWFkIn0sYEhlYWRgKSxtZHgoInAiLG51bGwsYFRoZSBoZWFkIGlzIGEgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGJhc2U2NFVybGApLG1keCgic3Ryb25nIix7cGFyZW50TmFtZToicCJ9LGAtYCksYGVuY29kZWQsIHN0cmluZ2lmaWVkIEpTIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0b2tlbi4gVGhlIGhlYWQgY29udGFpbnMgdGhlIHR5cGUgb2YgdG9rZW4sIHRoZSBjb250ZW50IHR5cGUgb2YgdGhlIHRva2VuLCBhbmQgYW4gYWxnb3JpdGhtIHVzZWQgdG8gc2lnbiB0aGF0IHRva2VuLiBUaGUgdHlwZSBpcyBzcGVjaWZpZWQgYnkgdGhlIGZpZWxkIHR5cGUgYW5kIHRoZSBhbGdvcml0aG0gdXNlZCB0byBzaWduIHRoZSB0b2tlbi5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYHsKICAiYWxnIjogIkhTMjU2IiwKICAidHlwIjogIkpXVCIKfQpgKSksbWR4KCJwIixudWxsLGBUaGUgb2JqZWN0IGlzIHRoZW4gY29udmVydGVkIHRvIGEgc3RyaW5nIGFuZCBlbmNvZGVkIHRvIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBCYXNlNjRVcmxgKSxgLmApLG1keCgicCIsbnVsbCxgVGhlIGZvbGxvd2luZyBjb2RlIHNob3dzIGhvdyB0byBjaGFuZ2UgdGhlIGVuY29kaW5nIHVzaW5nIHRoZSBidWZmZXIgbW9kdWxlIGluIE5vZGUuanMuYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh7CiJhbGciOiAiSFMyNTYiLAoidHlwIjogIkpXVCIKfSkpLnRvU3RyaW5nKCdiYXNlNjQnKQoucmVwbGFjZSgvPS9nLCAiIikKLnJlcGxhY2UoL1xcKy9nLCAiLSIpCi5yZXBsYWNlKC9cXC8vZywgIl8iKTsKYCkpLG1keCgicCIsbnVsbCxtZHgoInN0cm9uZyIse3BhcmVudE5hbWU6InAifSxgTm90ZTogYCksbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBCYXNlNjRgKSxgIGFuZCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgQmFzZTY0VVJMYCksYCBhcmUgdGhlIHNhbWU7IGhvd2V2ZXIsIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGArYCksYCBpcyBjb252ZXJ0ZWQgdG8gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC1gKSxgLCBhbmQgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC9gKSxgIGlzIGNvbnZlcnRlZCB0byBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgX2ApLGAgLmApLG1keCgicCIsbnVsbCxgVGhpcyBpcyBkb25lIHRvIGVuc3VyZSB0aGVyZeKAmXMgbm8gY29sbGlzaW9uIGJldHdlZW4gdGhlIHF1ZXJ5IHN0cmluZyBhbmQgdGhlIHRva2VuIHNpbmNlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGArYCksYCBoYXMgYSBzcGVjaWFsIG1lYW5pbmcgaW4gdGhlIHF1ZXJ5IHN0cmluZyAodGhlIHNhbWUgZ29lcyBmb3IgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC9gKSxgKS5gKSxtZHgoImg0Iix7ImlkIjoiYm9keSJ9LGBCb2R5YCksbWR4KCJwIixudWxsLGBUaGUgYm9keSBpcyB0aGUgYXMgdGhlIGhlYWQsIGJ1dCBpdCBjb250YWlucyB0aGUgY2xhaW0gb3IgZGF0YSB0aGF04oCZcyB0cmFuc2ZlcnJlZC5gKSxtZHgoInAiLG51bGwsYFRoZSBib2R5IG1heSBjb250YWluIHNwZWNpYWwgYXR0cmlidXRlcyBsaWtlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBpc3NgKSxgICwgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHN1YmApLGAgLCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgYXVkYCksYCwgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGV4cGApLGAsIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBpYXRgKSxgLCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxganRpYCksYCwgZXRjLiBUaGVzZSBhdHRyaWJ1dGVzIGhhdmUgYSBzdGFuZGFyZCBpbXBsZW1lbnRhdGlvbiBhbmQgYXJlIGFjY2VwdGVkIGJ5IG1vc3QgT0F1dGggc2VydmljZXMuIFNvbWUgaW50ZXJlc3Rpbmcgb25lcyBhcmUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGV4cGApLGAgYW5kIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBpYXRgKSxgLiBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgZXhwYCksYCBzcGVjaWZpZXMgdGhlIHRpbWUgYWZ0ZXIgd2hpY2ggdGhlIHRva2VuIHdpbGwgYmVjb21lIGludmFsaWQsIGFuZCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgaWF0YCksYCBzcGVjaWZpZXMgdGhlIHRpbWUgd2hlbiB0aGUgdG9rZW4gd2FzIGNyZWF0ZWQuYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGB7CiAgInN1YiI6ICI5MDEyOTkyMCIsCiAgInV1aWQiOiAic2ZnZHNyZmc0MzRmZHQ1MzVmZyIsCiAgImlhdCI6IDE1MTYyMzkwMjIsCiAgImV4cCI6IDE1NDU5MjY5NzMsCn0KYCkpLG1keCgicCIsbnVsbCxgVGhlIHRpbWUgaXMgdXNlZCBpbiBzZWNvbmRzLCBmb2xsb3dpbmcgdGhlIDEgSmFudWFyeSAxOTcwIGZvcm1hdC4gVGhlIGJvZHkgaXMgYWxzbyBjb252ZXJ0ZWQgdG8gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYEJhc2U2NFVSTGApLGAgdXNpbmcgdGhlIHNhbWUgY29kZSBhcyB1c2VkIGluIHRoZSBoZWFkLmApLG1keCgiaDQiLHsiaWQiOiJzaWduYXR1cmUifSxgU2lnbmF0dXJlYCksbWR4KCJwIixudWxsLGBUaGlzIGlzIHRoZSBtb3N0IGltcG9ydGFudCBwYXJ0IG9mIHRoZSB0b2tlbiBiZWNhdXNlIGl04oCZcyB1c2VkIHRvIHZlcmlmeSBpZiB0aGUgdG9rZW4gaXMgdmFsaWQgYW5kIGF1dGhlbnRpYy4gTGV04oCZcyBzZWUgaG93IHRoZSBzaWduYXR1cmUgaXMgY3JlYXRlZC5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYHNpZ25hdHVyZT1zaGEyNTYoYmFzZTY0VVJMKGhlYWQpKyIuIitiYXNlNjRVUkwoYm9keSkpCmApKSxtZHgoInAiLG51bGwsYFRoZSB0b2tlbiBjb25zaXN0cyBvZiB0aGUgYm9keSBhbmQgdGhlIGhlYWQgZW5jcnlwdGVkIHVzaW5nIGFueSBoYXNoaW5nIGFsZ29yaXRobSDigJQgZm9yIGV4YW1wbGUsIFNIQS0yNTYuYCksbWR4KCJwIixudWxsLGBUaGUgYWxnb3JpdGhtIGNhbiBiZSBzeW1tZXRyaWNhbCBvciBhc3ltbWV0cmljYWwuIEl0IGRlcGVuZHMgdXBvbiB0aGUgbmVlZHMgb2YgdGhlIGFwcGxpY2F0aW9uLiBUaGUgZXhhbXBsZSBiZWxvdyBzaG93cyBob3cgd2UgY2FuIGNyZWF0ZSBhIHNpZ25hdHVyZSBmb3IgSldULmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgY29uc3QgY3J5cHRvPXJlcXVpcmUoJ2NyeXB0bycpOwpjb25zdCBwcml2YXRlX2tleT0iZGZoZ2hoZ2hnZG9naG9naGciOwpjb25zdCBzaWduID0gY3J5cHRvLmNyZWF0ZUhtYWMoJ1NIQTI1NicsIHByaXZhdGVfa2V5KQoudXBkYXRlKGhlYWQgKyAnLicgKyBib2R5KQouZGlnZXN0KCdiYXNlNjQnKQoucmVwbGFjZSgvPS9nLCAiIikKLnJlcGxhY2UoL1xcKy9nLCAiLSIpCi5yZXBsYWNlKC9cXC8vZywgIl8iKQpgKSksbWR4KCJwIixudWxsLGBGaXJzdCwgd2UgY3JlYXRlIGEgc3RyZWFtIGZyb20gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNyeXB0by5jcmVhdGVIbWFjYCksYC4gV2UgcHVzaCB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGJhc2U2NHVybGApLGAtZW5jb2RlZCBoZWFkIGFuZCBib2R5IChzZXBhcmF0ZWQgYnkgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYOKAnC7igJ1gKSxgKSB0byB0aGUgY3JlYXRlZCBzdHJlYW0uIFRoZW4sIHdlIGNvbnZlcnQgdGhlIGJ1ZmZlciB0byB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGJhc2U2NGApLGAtZW5jb2RlZCBzdHJpbmcgYW5kIHRoZW4gdG8gdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBiYXNlNjR1cmxgKSxgLWVuY29kZWQgc3RyaW5nLmApLG1keCgiaDQiLHsiaWQiOiJ2ZXJpZmljYXRpb24ifSxgVmVyaWZpY2F0aW9uYCksbWR4KCJwIixudWxsLGBXaGVuIHRoZSBzZXJ2ZXIgdmVyaWZpZXMgdGhlIHRva2VuLCBpdCBjcmVhdGVzIHRoZSBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgaGFzaGApLGAgdXNpbmcgdGhlIHByaXZhdGUga2V5LiBJZiB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGhhc2hgKSxgIG1hdGNoZXMgdGhlIHNpZ25hdHVyZSBvbiB0aGUgdG9rZW4sIHRoZW4gdGhlIHRva2VuIGlzIGF1dGhlbnRpYy5gKSxtZHgoInAiLG51bGwsYElmIHRoZSB0b2tlbiBpcyB0ZW1wZXJlZCB3aXRoLCB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGhhc2hgKSxgIG9mIHRoZSB0b2tlbiBzaG91bGQgY2hhbmdlLiBCdXQgdGhlIGhhY2tlciBjYW7igJl0IGNyZWF0ZSB0aGUgbmV3IGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBoYXNoYCksYCBiZWNhdXNlIHRoZSBrZXkgaXMgc2F2ZWQgd2l0aCB0aGUgc2VydmVyLiBUaGVyZWZvcmUsIHRoZSB0b2tlbiBpcyB2ZXJpZmllZCwgYW5kIHRoZSBjbGllbnQgY2FuIGFsc28gYmUgdmVyaWZpZWQgdXNpbmcgdGhlIGRhdGEgaW4gdGhlIGJvZHkuYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGB0b2tlbj1iYXNlNjR1cmwoaGVhZCkrIi4iK2Jhc2VyNjR1cmwoYm9keSkrIi4iK3NpZ25hdHVyZQpgKSksbWR4KCJociIsbnVsbCksbWR4KCJoMSIseyJpZCI6Imhvdy1kb2VzLWF1dGhlbnRpY2F0aW9uLXdpdGgtand0LXdvcmsifSxgSG93IERvZXMgQXV0aGVudGljYXRpb24gV2l0aCBKV1QgV29yaz9gKSxtZHgoInAiLG51bGwsYFRoZSB0b2tlbiB3aXRoIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGB1c2VyX2lkYCksYCBpcyBnaXZlbiB0byB0aGUgY2xpZW50LCBhbmQgdGhlIGNsaWVudCBzZW5kcyB0aGUgdG9rZW4gYmFjayB0byB0aGUgc2VydmVyIGV2ZXJ5IHRpbWUgdGhlIGNsaWVudCBtYWtlcyBhbiBIVFRQIHJlcXVlc3QgdG8gdGhlIHNlcnZlci5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYGJvZHk9ewogdXNlcl9pZDoiMTIzbmZkd2YyODMiLAp9CmApKSxtZHgoInAiLG51bGwsYFRoZSBjbGllbnQgbXVzdCBzdG9yZSB0aGUgdG9rZW4gaW4gdGhlIGJyb3dzZXIuIFRoZSB0b2tlbiBjYW4gYmUgc2F2ZWQgaW4gbG9jYWwgc3RvcmFnZSBvciBzZXNzaW9uIHN0b3JhZ2UuIFVzaW5nIGxvY2FsIHN0b3JhZ2Ugd2lsbCBrZWVwIHRoZSB1c2VyIHNpZ25lZCBpbiB1bnRpbCB0aGUgdG9rZW4gZXhwaXJlcywgYW5kIHNlc3Npb24gc3RvcmFnZSB3aWxsIGtlZXAgdGhlIHVzZXIgbG9nZ2VkIGluIHVudGlsIHRoZSBicm93c2VyIHRhYiBpcyBjbG9zZWQuIFRoZSB0b2tlbiBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIgaW4gdGhlIGF1dGhvcml6YXRpb24gaGVhZGVyIGFzIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBCZWFyZXIge3Rva2VufWApLGAuYCksbWR4KCJociIsbnVsbCksbWR4KCJoMSIseyJpZCI6InVzaW5nLWp3dC13aXRoLW5vZGVqcyJ9LGBVc2luZyBKV1QgV2l0aCBOb2RlLmpzYCksbWR4KCJwIixudWxsLGBJZiB5b3UgZG9uJ3Qgd2FudCB0byB3cml0ZSB5b3VyIG93biBjdXN0b20gSldUIHNvbHV0aW9uLCB5b3UgY2FuIGFsd2F5cyB1c2UgYW4gbnBtIG1vZHVsZSBmb3IgaXQuIFdl4oCZZCBmaXJzdCBpbnN0YWxsIEV4cHJlc3MgYW5kIHRoZSBgLG1keCgiYSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InAifSx7ImhyZWYiOiJodHRwczovL2p3dC5pby8ifSksYEpTT04gV2ViIFRva2VucyBsaWJyYXJ5YCksYC5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYG5wbSBpIGV4cHJlc3MganNvbndlYnRva2VuIG1vbmdvb3NlIGJvZHktcGFyc2VyIGJjcnlwdApgKSksbWR4KCJwIixudWxsLGBUaGUgZGlyZWN0b3J5IHN0cnVjdHVyZSBvZiB0aGUgcHJvamVjdDpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYHJvb3QKICAgLWFwcC5qcwogICAtdXNlci5qcwogICAta2V5LmpzCmApKSxtZHgoInAiLG51bGwsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBrZXkuanNgKSxgIGNvbnRhaW5zIHRoZSBwcml2YXRlIGtleSwgYnV0IGl04oCZcyBub3QgYSBnb29kIHByYWN0aWNlLiBZb3Ugc2hvdWxkIGFsd2F5cyB1c2UgYW4gYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC5lbnZgKSxgIHZhcmlhYmxlIGZvciBzdWNoIHNlbnNpdGl2ZSBkYXRhLmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHt9KSxgbW9kdWxlLmV4cG9ydHM9e3Rva2VuS2V5OiJkamdoaGhodXV3aXd1ZXdpZXV3aWV1cml3dSJ9CmApKSxtZHgoInAiLG51bGwsYFRoZSB1c2VyIHNjaGVtYSBjb25zaXN0cyBvZiBhIHByZXNhdmUgaG9vay4gV2hlbiB3ZSBjcmVhdGUgYSBuZXcgdXNlciwgdGhlIHBhc3N3b3JkIGlzIGNvbnZlcnRlZCB0byBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgaGFzaGApLGAgYW5kIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBzYWx0YCksYCB1c2luZyBiY3J5cHRqcy4gQSBzdGF0aWMgbWV0aG9kIGlzIGFsc28gYWRkZWQgdG8gdGhlIHNjaGVtYSBmb3IgY29tcGFyaW5nIHBhc3N3b3JkcyB1c2luZyBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgaGFzaGApLGAgYW5kYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNhbHRgKSxgLmApLG1keCgicCIsbnVsbCxgUGFzc3dvcmRzIGFyZSBuZXZlciBzYXZlZCBpbiB0aGUgZGF0YWJhc2UuIFRoZSBwYXNzd29yZHMgYXJlIGNvbnZlcnRlZCB0byBhIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBoYXNoYCksYCB1c2luZyBhbnkgaGFzaGluZyBhbGdvcml0aG0sIHdpdGggdGhlIGhlbHAgb2YgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNhbHRgKSxgLmApLG1keCgicCIsbnVsbCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNhbHRgKSxgIGFjdHMgYXMgdGhlIHByaXZhdGUga2V5IGZvciB0aGUgY3JlYXRpbmcgdGhlIGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBoYXNoYCksYC4gV2hlbiB0aGUgdXNlciBwcm92aWRlcyBhIHBhc3N3b3JkIGZvciBsb2dpbiwgdGhlIHBhc3N3b3JkIGFuZCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc2FsdGApLGAgYXJlIHVzZWQgdG8gY3JlYXRlIGEgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGhhc2hgKSxgLiBUaGUgY3JlYXRlZCBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgaGFzaGApLGAgaXMgdGhlbiBtYXRjaGVkIHdpdGggdGhlIHN0b3JlZCBvbmUuIElmIGJvdGggYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGhhc2hgKSxgZXMgbWF0Y2gsIHRoZW4gdGhlIHBhc3N3b3JkIGlzIG1hdGNoZWQuYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0se30pLGB2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpOwp2YXIgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKQp2YXIgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoewogICAgZmlyc3Q6IFN0cmluZywKICAgIGVtYWlsOiB7dHlwZTpTdHJpbmcsdW5pcXVlOnRydWV9LAogICAgcGFzc3dvcmQ6IFN0cmluZywKICAgIGltYWdlOlN0cmluZwp9LHt0aW1lc3RhbXBzOnRydWV9KQoKdXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkgewogICAgdmFyIHVzZXIgPSB0aGlzOwogICAgaWYgKCF1c2VyLmlzTW9kaWZpZWQoJ3Bhc3N3b3JkJykpIHtyZXR1cm4gbmV4dCgpfTsKICAgIGJjcnlwdC5oYXNoKHVzZXIucGFzc3dvcmQsMTApLnRoZW4oKGhhc2hlZFBhc3N3b3JkKSA9PiB7CiAgICAgICAgdXNlci5wYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkOwogICAgICAgIG5leHQoKTsKICAgIH0pCn0sIGZ1bmN0aW9uIChlcnIpIHsKICAgIG5leHQoZXJyKQp9KQp1c2VyU2NoZW1hLm1ldGhvZHMuY29tcGFyZVBhc3N3b3JkPWZ1bmN0aW9uKGNhbmRpZGF0ZVBhc3N3b3JkLG5leHQpeyAgICBiY3J5cHQuY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCx0aGlzLnBhc3N3b3JkLGZ1bmN0aW9uKGVycixpc01hdGNoKXsKICAgICAgICBpZihlcnIpIHJldHVybiBuZXh0KGVycik7CiAgICAgICAgbmV4dChudWxsLGlzTWF0Y2gpCiAgICB9KQp9Cm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoInVzZXIiLCB1c2VyU2NoZW1hKTsKYCkpLG1keCgicCIsbnVsbCxgTGV04oCZcyBjcmVhdGUgYSBzaW1wbGUgRXhwcmVzcyBzZXJ2ZXIuYCksbWR4KCJwIixudWxsLGBUaGUgcm91dGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC9hcGkvYXV0aC9zaWduaW5gKSxgIGZpcnN0IG1hdGNoZXMgdGhlIHBhc3N3b3JkIGFuZCB0aGVuIGlzc3VlcyBhIHRva2VuIHRvIHRoZSB1c2VyLiBUaGUgdG9rZW4gaXMgc2VudCBieSB0aGUgdXNlciB0byB0aGUgc2VydmVyIGV2ZXJ5IHRpbWUgaW4gdGhlIHJlcXVlc3QgaGVhZGVyLCBhbmQgdGhlIHRva2VuIGlzIHBhcnNlZCBieSB0aGUgYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGFwcC51c2VgKSxgIG1pZGRsZXdhcmUgZXZlcnkgdGltZS5gKSxtZHgoInAiLG51bGwsYFRoZSBtaWRkbGV3YXJlIGFsc28gYWRkcyB1c2VyIGRldGFpbHMgdG8gdGhlIHJlcSBhcyBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgcmVxLnVzZXJgKSxgIC4gVGhlIHNlcnZlciBsaXN0ZW5zIG9uIHRoZSBwb3J0IGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGAzMDAxYCksYCAuV2UgY2FuIGFsc28gd3JpdGUgYSBtaWRkbGV3YXJlIGZvciBwcm90ZWN0aW5nIHJvdXRlcy5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYGZ1bmN0aW9uIHByb2N0ZWN0Um91dGUocmVxLHJlcyxuZXh0KXsKICAvLyBpZiB1c2VyIGV4aXN0cyB0aGUgdG9rZW4gd2FzIHNlbnQgd2l0aCB0aGUgcmVxdWVzdAogIGlmKHJlcS51c2VyKXsKICAgLy9pZiB1c2VyIGV4aXN0cyB0aGVuIGdvIHRvIG5leHQgbWlkZGxld2FyZQogICAgIG5leHQoKTsKICB9Ci8vIHRva2VuIHdhcyBub3Qgc2VudCB3aXRoIHJlcXVlc3Qgc2VuZCBlcnJvciB0byB1c2VyCiAgZWxzZXsKICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6J2xvZ2luIGlzIHJlcXVpcmVkJ30pOwogIH0KfQpgKSksbWR4KCJwIixudWxsLGBXZSBjYW4gdXNlIGRpZmZlcmVudCBvcHRpb25zIHdpdGggdGhlIEpTT04gV2ViIFRva2VucyBsaWJyYXJ5LiBXZSBjYW4gc2V0IHRoZSBleHBpcmF0aW9uIHRpbWUsIHN1YmplY3QsIHRpbWUgb2YgaXNzdWUsIGV0Yy5gKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7fSksYC8vIHdlIGNhbiBjaGFuZ2UgYWxnb3JpdGhtIHVzZWQKand0LnNpZ24oeyBmb286ICdiYXInIH0sIGNlcnQsCnsgYWxnb3JpdGhtOidSUzI1Nid9LGZ1bmN0aW9uKGVycix0b2tlbikgewogICAgY29uc29sZS5sb2codG9rZW4pOwp9KTsKCi8vIHdlIGNhbiBzZXQgZXhwaXJhdGlvbiB0aW1lIHVzaW5nIHN5bmMKY29uc3QgdG9rZW4gPWp3dC5zaWduKHtkYXRhOiAnZm9vYmFyJ30sICdzZWNyZXQnLAogeyBleHBpcmVzSW46IDYwICogNjAgfSk7CmApKSxtZHgoImhyIixudWxsKSxtZHgoImgxIix7ImlkIjoiY29uY2x1c2lvbiJ9LGBDb25jbHVzaW9uYCksbWR4KCJwIixudWxsLGBKU09OIFdlYiBUb2tlbnMgYXJlIGdyZWF0IGZvciBhdXRoZW50aWNhdGlvbnMgYW5kIHZlcnkgZWFzeSB0byB1c2UuIFRoZSB0dXRvcmlhbCBzaG93cyB1cyBob3cgd2UgY2FuIHVzZSBKV1QgZm9yIGF1dGhlbnRpY2F0aW9uIHVzaW5nIE5vZGUuanMgYW5kIEV4cHJlc3MuYCksbWR4KCJwIixudWxsLGBKV1QgY2FuIGFsc28gYmUgdXNlZCBmb3IgZGlmZmVyZW50IHB1cnBvc2VzLCB3aGljaCBpbmNsdWRlcyBhbnkgdHlwZSBvZiBjbGFpbS4gVGhlIEpXVCB1c2VkIGluIHRoZSB0dXRvcmlhbCBhcmUgc2lnbmVkIHVzaW5nIGEgc3ltbWV0cmljYWwgYWxnb3JpdGhtLCBidXQgeW91IGNhbiBlYXNpbHkgdXNlIGFzeW1tZXRyaWNhbCBhbGdvcml0aG1zIGFsc28uIEluIHRoZSBhc3ltbWV0cmljYWwgYWxnb3JpdGhtLCB0aGUgcHJpdmF0ZSBrZXkgaXMgdXNlZCB0byBzaWduIHRoZSB0b2tlbiwgYW5kIGEgcHVibGljIGtleSBpcyB1c2VkIGZvciB2ZXJpZnlpbmcgdGhlIHRva2Vucy5gKSk7fTtNRFhDb250ZW50LmlzTURYQ29tcG9uZW50PXRydWU7"},{"version":3,"sources":["/Users/inmatin/Desktop/anshulrgoyal/blog/2019-01-14-jwt-auth.md"],"names":["React","mdx","frontMatter","title","id","author","author_url","author_image_url","tags","image","metadata","rightToc","layoutProps","MDXLayout","MDXContent","components","props","isMDXComponent"],"mappings":"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","sourcesContent":["\n  import React from 'react';\n  import { mdx } from '@mdx-js/react';\n\n  export const frontMatter = {\n\ttitle: 'A Practical Guide for JWT Authentication Using Node.js and Express',\n\tid: 'jwt-auth',\n\tauthor: 'Anshul Goyal',\n\tauthor_url: 'https://github.com/anshulrgoyal',\n\tauthor_image_url: '/img/anshul.jpg',\n\ttags: [\n\t\t'jwt',\n\t\t'auth',\n\t\t'nodejs',\n\t\t'express'\n\t],\n\timage: 'https://cdn-images-1.medium.com/max/10836/1*WrDrIa0v80eL43PK-Wtu-w.jpeg'\n};\nexport const metadata = {\n  \"permalink\": \"/blog/jwt-auth\",\n  \"source\": \"@site/blog/2019-01-14-jwt-auth.md\",\n  \"description\": \"Introduction\",\n  \"date\": \"2019-01-14T00:00:00.000Z\",\n  \"tags\": [\n    {\n      \"label\": \"jwt\",\n      \"permalink\": \"/blog/tags/jwt\"\n    },\n    {\n      \"label\": \"auth\",\n      \"permalink\": \"/blog/tags/auth\"\n    },\n    {\n      \"label\": \"nodejs\",\n      \"permalink\": \"/blog/tags/nodejs\"\n    },\n    {\n      \"label\": \"express\",\n      \"permalink\": \"/blog/tags/express\"\n    }\n  ],\n  \"title\": \"A Practical Guide for JWT Authentication Using Node.js and Express\",\n  \"readingTime\": 6.66,\n  \"truncated\": true,\n  \"prevItem\": {\n    \"title\": \"Setting A React Project From Scratch Using Babel And Webpack\",\n    \"permalink\": \"/blog/react-setup\"\n  }\n};\n  /* @jsx mdx */\n\nexport const rightToc = [];\n\nconst layoutProps = {\n  rightToc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"introduction\"\n    }}>{`Introduction`}</h1>\n    <p>{`Traditional authentication strategy makes use of sessions and cookies, but scaling these solutions is very difficult — as some kind of state is maintained by the server. JWT, on the other hand, provides a stateless solution for authentication, and stateless applications are pretty easy to scale.`}</p>\n    {\n      /*truncate*/\n    }\n    <h4 {...{\n      \"id\": \"advantages-of-jwt\"\n    }}>{`Advantages of JWT`}</h4>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Provides a stateless authentication solution`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Very popular and used by many OAuth service providers, like Google and Facebook`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`It’s very easy to verify a JWT token`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`More trustworthy than cookies and sessions`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Authentication can be outsourced, or an authentication service can be used`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Have many applications other than authentication — for instance, it can be used for claims`}</p>\n      </li>\n    </ul>\n    <h4 {...{\n      \"id\": \"content\"\n    }}>{`Content`}</h4>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`JWT structure and overview`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The JWT authentication mechanism`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Using JWT authentication with Node.js`}</p>\n      </li>\n    </ul>\n    <hr></hr>\n    <h1 {...{\n      \"id\": \"whats-jwt\"\n    }}>{`What’s JWT?`}</h1>\n    <p>{`A JSON Web Token (JWT) is a `}<a parentName=\"p\" {...{\n        \"href\": \"http://www.w3schools.com/json/\"\n      }}>{`JSON object`}</a>{` that’s defined in `}<a parentName=\"p\" {...{\n        \"href\": \"https://tools.ietf.org/html/rfc7519\"\n      }}>{`RFC 7519`}</a>{` as a safe way to represent a set of information between two parties. The token is composed of a header, a payload, and a signature.`}</p>\n    <p>{`JWT is used for authentication, and they can also be used for sharing information. Most JWT are signed using a public key and a private key; therefore, it’s very difficult to tamper with these tokens. JWT has three parts: head, body and signature, each separated by `}<inlineCode parentName=\"p\">{`“.”`}</inlineCode>{`.`}</p>\n    <h4 {...{\n      \"id\": \"head\"\n    }}>{`Head`}</h4>\n    <p>{`The head is a `}<inlineCode parentName=\"p\">{`base64Url`}</inlineCode><strong parentName=\"p\">{`-`}</strong>{`encoded, stringified JS object that contains information about the token. The head contains the type of token, the content type of the token, and an algorithm used to sign that token. The type is specified by the field type and the algorithm used to sign the token.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n`}</code></pre>\n    <p>{`The object is then converted to a string and encoded to `}<inlineCode parentName=\"p\">{`Base64Url`}</inlineCode>{`.`}</p>\n    <p>{`The following code shows how to change the encoding using the buffer module in Node.js.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`Buffer.from(JSON.stringify({\n\"alg\": \"HS256\",\n\"typ\": \"JWT\"\n})).toString('base64')\n.replace(/=/g, \"\")\n.replace(/\\\\+/g, \"-\")\n.replace(/\\\\//g, \"_\");\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Note: `}</strong><inlineCode parentName=\"p\">{`Base64`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Base64URL`}</inlineCode>{` are the same; however, `}<inlineCode parentName=\"p\">{`+`}</inlineCode>{` is converted to `}<inlineCode parentName=\"p\">{`-`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`/`}</inlineCode>{` is converted to `}<inlineCode parentName=\"p\">{`_`}</inlineCode>{` .`}</p>\n    <p>{`This is done to ensure there’s no collision between the query string and the token since `}<inlineCode parentName=\"p\">{`+`}</inlineCode>{` has a special meaning in the query string (the same goes for `}<inlineCode parentName=\"p\">{`/`}</inlineCode>{`).`}</p>\n    <h4 {...{\n      \"id\": \"body\"\n    }}>{`Body`}</h4>\n    <p>{`The body is the as the head, but it contains the claim or data that’s transferred.`}</p>\n    <p>{`The body may contain special attributes like `}<inlineCode parentName=\"p\">{`iss`}</inlineCode>{` , `}<inlineCode parentName=\"p\">{`sub`}</inlineCode>{` , `}<inlineCode parentName=\"p\">{`aud`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`exp`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`iat`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`jti`}</inlineCode>{`, etc. These attributes have a standard implementation and are accepted by most OAuth services. Some interesting ones are `}<inlineCode parentName=\"p\">{`exp`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`iat`}</inlineCode>{`. `}<inlineCode parentName=\"p\">{`exp`}</inlineCode>{` specifies the time after which the token will become invalid, and `}<inlineCode parentName=\"p\">{`iat`}</inlineCode>{` specifies the time when the token was created.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n  \"sub\": \"90129920\",\n  \"uuid\": \"sfgdsrfg434fdt535fg\",\n  \"iat\": 1516239022,\n  \"exp\": 1545926973,\n}\n`}</code></pre>\n    <p>{`The time is used in seconds, following the 1 January 1970 format. The body is also converted to `}<inlineCode parentName=\"p\">{`Base64URL`}</inlineCode>{` using the same code as used in the head.`}</p>\n    <h4 {...{\n      \"id\": \"signature\"\n    }}>{`Signature`}</h4>\n    <p>{`This is the most important part of the token because it’s used to verify if the token is valid and authentic. Let’s see how the signature is created.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`signature=sha256(base64URL(head)+\".\"+base64URL(body))\n`}</code></pre>\n    <p>{`The token consists of the body and the head encrypted using any hashing algorithm — for example, SHA-256.`}</p>\n    <p>{`The algorithm can be symmetrical or asymmetrical. It depends upon the needs of the application. The example below shows how we can create a signature for JWT.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`const crypto=require('crypto');\nconst private_key=\"dfhghhghgdoghoghg\";\nconst sign = crypto.createHmac('SHA256', private_key)\n.update(head + '.' + body)\n.digest('base64')\n.replace(/=/g, \"\")\n.replace(/\\\\+/g, \"-\")\n.replace(/\\\\//g, \"_\")\n`}</code></pre>\n    <p>{`First, we create a stream from `}<inlineCode parentName=\"p\">{`crypto.createHmac`}</inlineCode>{`. We push the `}<inlineCode parentName=\"p\">{`base64url`}</inlineCode>{`-encoded head and body (separated by `}<inlineCode parentName=\"p\">{`“.”`}</inlineCode>{`) to the created stream. Then, we convert the buffer to the `}<inlineCode parentName=\"p\">{`base64`}</inlineCode>{`-encoded string and then to the `}<inlineCode parentName=\"p\">{`base64url`}</inlineCode>{`-encoded string.`}</p>\n    <h4 {...{\n      \"id\": \"verification\"\n    }}>{`Verification`}</h4>\n    <p>{`When the server verifies the token, it creates the `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` using the private key. If the `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` matches the signature on the token, then the token is authentic.`}</p>\n    <p>{`If the token is tempered with, the `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` of the token should change. But the hacker can’t create the new `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` because the key is saved with the server. Therefore, the token is verified, and the client can also be verified using the data in the body.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`token=base64url(head)+\".\"+baser64url(body)+\".\"+signature\n`}</code></pre>\n    <hr></hr>\n    <h1 {...{\n      \"id\": \"how-does-authentication-with-jwt-work\"\n    }}>{`How Does Authentication With JWT Work?`}</h1>\n    <p>{`The token with `}<inlineCode parentName=\"p\">{`user_id`}</inlineCode>{` is given to the client, and the client sends the token back to the server every time the client makes an HTTP request to the server.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`body={\n user_id:\"123nfdwf283\",\n}\n`}</code></pre>\n    <p>{`The client must store the token in the browser. The token can be saved in local storage or session storage. Using local storage will keep the user signed in until the token expires, and session storage will keep the user logged in until the browser tab is closed. The token is sent to the server in the authorization header as `}<inlineCode parentName=\"p\">{`Bearer {token}`}</inlineCode>{`.`}</p>\n    <hr></hr>\n    <h1 {...{\n      \"id\": \"using-jwt-with-nodejs\"\n    }}>{`Using JWT With Node.js`}</h1>\n    <p>{`If you don't want to write your own custom JWT solution, you can always use an npm module for it. We’d first install Express and the `}<a parentName=\"p\" {...{\n        \"href\": \"https://jwt.io/\"\n      }}>{`JSON Web Tokens library`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`npm i express jsonwebtoken mongoose body-parser bcrypt\n`}</code></pre>\n    <p>{`The directory structure of the project:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`root\n   -app.js\n   -user.js\n   -key.js\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`key.js`}</inlineCode>{` contains the private key, but it’s not a good practice. You should always use an `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` variable for such sensitive data.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`module.exports={tokenKey:\"djghhhhuuwiwuewieuwieuriwu\"}\n`}</code></pre>\n    <p>{`The user schema consists of a presave hook. When we create a new user, the password is converted to `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`salt`}</inlineCode>{` using bcryptjs. A static method is also added to the schema for comparing passwords using `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` and`}<inlineCode parentName=\"p\">{`salt`}</inlineCode>{`.`}</p>\n    <p>{`Passwords are never saved in the database. The passwords are converted to a `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` using any hashing algorithm, with the help of `}<inlineCode parentName=\"p\">{`salt`}</inlineCode>{`.`}</p>\n    <p><inlineCode parentName=\"p\">{`salt`}</inlineCode>{` acts as the private key for the creating the `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{`. When the user provides a password for login, the password and `}<inlineCode parentName=\"p\">{`salt`}</inlineCode>{` are used to create a `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{`. The created `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{` is then matched with the stored one. If both `}<inlineCode parentName=\"p\">{`hash`}</inlineCode>{`es match, then the password is matched.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`var mongoose = require('mongoose');\nvar bcrypt = require('bcryptjs')\nvar userSchema = new mongoose.Schema({\n    first: String,\n    email: {type:String,unique:true},\n    password: String,\n    image:String\n},{timestamps:true})\n\nuserSchema.pre('save', function (next) {\n    var user = this;\n    if (!user.isModified('password')) {return next()};\n    bcrypt.hash(user.password,10).then((hashedPassword) => {\n        user.password = hashedPassword;\n        next();\n    })\n}, function (err) {\n    next(err)\n})\nuserSchema.methods.comparePassword=function(candidatePassword,next){    bcrypt.compare(candidatePassword,this.password,function(err,isMatch){\n        if(err) return next(err);\n        next(null,isMatch)\n    })\n}\nmodule.exports = mongoose.model(\"user\", userSchema);\n`}</code></pre>\n    <p>{`Let’s create a simple Express server.`}</p>\n    <p>{`The route `}<inlineCode parentName=\"p\">{`/api/auth/signin`}</inlineCode>{` first matches the password and then issues a token to the user. The token is sent by the user to the server every time in the request header, and the token is parsed by the `}<inlineCode parentName=\"p\">{`app.use`}</inlineCode>{` middleware every time.`}</p>\n    <p>{`The middleware also adds user details to the req as `}<inlineCode parentName=\"p\">{`req.user`}</inlineCode>{` . The server listens on the port `}<inlineCode parentName=\"p\">{`3001`}</inlineCode>{` .We can also write a middleware for protecting routes.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`function proctectRoute(req,res,next){\n  // if user exists the token was sent with the request\n  if(req.user){\n   //if user exists then go to next middleware\n     next();\n  }\n// token was not sent with request send error to user\n  else{\n     res.status(500).json({error:'login is required'});\n  }\n}\n`}</code></pre>\n    <p>{`We can use different options with the JSON Web Tokens library. We can set the expiration time, subject, time of issue, etc.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// we can change algorithm used\njwt.sign({ foo: 'bar' }, cert,\n{ algorithm:'RS256'},function(err,token) {\n    console.log(token);\n});\n\n// we can set expiration time using sync\nconst token =jwt.sign({data: 'foobar'}, 'secret',\n { expiresIn: 60 * 60 });\n`}</code></pre>\n    <hr></hr>\n    <h1 {...{\n      \"id\": \"conclusion\"\n    }}>{`Conclusion`}</h1>\n    <p>{`JSON Web Tokens are great for authentications and very easy to use. The tutorial shows us how we can use JWT for authentication using Node.js and Express.`}</p>\n    <p>{`JWT can also be used for different purposes, which includes any type of claim. The JWT used in the tutorial are signed using a symmetrical algorithm, but you can easily use asymmetrical algorithms also. In the asymmetrical algorithm, the private key is used to sign the token, and a public key is used for verifying the tokens.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "]}]}